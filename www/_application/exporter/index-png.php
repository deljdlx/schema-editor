<?php

// header('Content-type: image/png');
// echo base64_decode($data);




$_POST = json_decode(file_get_contents('php://input'), true);

/*
$_POST['data'] = "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAD5nRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmxvY2FsaG9zdCUyMiUyMG1vZGlmaWVkJTNEJTIyMjAyMS0wNi0wM1QxMyUzQTEyJTNBMjEuNDIyWiUyMiUyMGFnZW50JTNEJTIyNS4wJTIwKFdpbmRvd3MlMjBOVCUyMDEwLjAlM0IlMjBXaW42NCUzQiUyMHg2NCklMjBBcHBsZVdlYktpdCUyRjUzNy4zNiUyMChLSFRNTCUyQyUyMGxpa2UlMjBHZWNrbyklMjBDaHJvbWUlMkY5MS4wLjQ0NzIuNzclMjBTYWZhcmklMkY1MzcuMzYlMjIlMjBldGFnJTNEJTIyTGxTd2hsRzhWRFhubGlmTFRFcXMlMjIlMjB2ZXJzaW9uJTNEJTIyJTQwRFJBV0lPLVZFUlNJT04lNDAlMjIlM0UlM0NkaWFncmFtJTIwaWQlM0QlMjJlazhIYUhSYnZQUTVRSUh0OTVNQSUyMiUyMG5hbWUlM0QlMjJQYWdlLTElMjIlM0V6WlRmYThJd0VJRCUyRm1qNEslMkZTRnVQbTVPbmJLQjRzUEczckxtYkNwcHI4U3JyZjcxaSUyRlpxVzl4RUdJTzlsT1RMaGN0OXVkUUpSa2s1TlNKVHJ5aEJPNzRyU3lkNGNueCUyRjRQcjJld1Q3Q25oZWYxaVJ5TVNTV1FOVzhRRVl1a3p6V01LMkUwaUltdUtzQzBOTVV3aXB3NFF4V0hURDFxaTdXVE1Sd1FWWWhVSmYwcmRZa3Fyb3ZYJTJGWDhHZUlJMVZuOWdaY1h5THFZSzVrcTRURW9vV0NzUk9NRENKVm82UWNnVDdLcTcxVSUyQnlZJTJGcko0UFppQ2xXellNM3VlZmk0TzNPaXprOG1HelhxdHloajIlMkJucDNRT1JmTWg2VjliUUNrRmNKVE5LUXd3bFRvY1VNZkRlYXBoR01hMTg2YW1CZkV6RUxQd2cwUTdmbDJSVTVva2FKRTglMkJwbEtWemRGbk1UOGptVzVhSSUyRkMyYkpSeXJIYzVSaUlzTzBWN2VFTUJIUWxUbzU3bGhMS3dHTG1nSW1RR1p2QXd4b1FmR3VlJTJGbUNleWc2eHpXYTdZQk5mMiUyRjkycWxiMXBYZGhSZnF1MklMRlJPc01uRVNVdGpuZHFQRUhSaUM4bXJaOVdyZHElMkZWcjdmTzhhRnIlMkZIS05hYlQ5d2YyJTJGcTJyMjFUQlZvN0JQJTJCYjZiODRkJTJCWnN0UG1MM0ZhYSUyRjFyZyUyRkVYJTNDJTJGZGlhZ3JhbSUzRSUzQyUyRm14ZmlsZSUzRbAgcpgAAAALSURBVBhXY2AAAgAABQABqtXIUQAAAABJRU5ErkJggg==";
*/

// echo $_POST['data'];
// header('Content-type: image/png');
// echo base64_decode($_POST['data']);

file_put_contents(__DIR__ . '/tmp/tmp.drawio.png', base64_decode($_POST['data']));
echo json_encode($_POST);




